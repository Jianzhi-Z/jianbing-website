<!DOCTYPE html>
<html lang="zh-CN" class="scroll-smooth">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="color-scheme" content="dark light">
  <title><%= typeof title !== 'undefined' && title ? title + ' - ' : '' %><%= siteTitle %></title>
  <meta name="description" content="<%= typeof description !== 'undefined' && description ? description : siteDescription %>">
  
  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
  
  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          colors: {
            primary: {
              50: '#EEF2FF',
              100: '#E0E7FF',
              200: '#C7D2FE',
              300: '#A5B4FC',
              400: '#818CF8',
              500: '#6366F1',
              600: '#4F46E5',
              700: '#4338CA',
              800: '#3730A3',
              900: '#312E81',
            },
            secondary: {
              500: '#F59E0B',
              600: '#D97706',
            },
            dark: {
              bg: '#0F172A',
              surface: '#1E293B',
              elevated: '#334155',
              border: '#475569',
              text: '#F1F5F9',
              'text-secondary': '#94A3B8',
            },
            light: {
              bg: '#FFFFFF',
              surface: '#F8FAFC',
              elevated: '#F1F5F9',
              border: '#E2E8F0',
              text: '#1E293B',
              'text-secondary': '#64748B',
            }
          },
          fontFamily: {
            sans: ['Inter', 'PingFang SC', 'Microsoft YaHei', 'sans-serif'],
            mono: ['JetBrains Mono', 'Fira Code', 'Consolas', 'monospace'],
          },
        }
      }
    }
  </script>
  
  <!-- Lucide Icons -->
  <script src="https://unpkg.com/lucide@latest"></script>
  
  <style>
    .text-gradient {
      background: linear-gradient(135deg, #6366F1 0%, #818CF8 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    
    .avatar-glow {
      box-shadow: 0 0 60px rgba(99, 102, 241, 0.4);
    }
    
    .card-hover {
      transition: all 0.3s ease;
    }
    
    .card-hover:hover {
      transform: translateY(-4px);
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
    }
    
    /* Markdown 样式 - 微信公众号风格（深色适配） */
    .markdown-body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "PingFang SC", "Microsoft YaHei", sans-serif;
      font-size: 16px;
      line-height: 1.8;
      color: #E2E8F0;
    }
    
    .markdown-body h1 {
      font-size: 24px;
      font-weight: bold;
      color: #F1F5F9;
      margin: 32px 0 16px;
      padding-bottom: 8px;
      border-bottom: 2px solid #6366F1;
    }
    
    .markdown-body h2 {
      font-size: 20px;
      font-weight: bold;
      color: #F1F5F9;
      margin: 28px 0 12px;
      padding-left: 12px;
      border-left: 4px solid #6366F1;
    }
    
    .markdown-body h3 {
      font-size: 18px;
      font-weight: bold;
      color: #E2E8F0;
      margin: 24px 0 10px;
    }
    
    .markdown-body h4, .markdown-body h5, .markdown-body h6 {
      font-size: 16px;
      font-weight: bold;
      color: #CBD5E1;
      margin: 20px 0 8px;
    }
    
    .markdown-body p {
      margin: 16px 0;
      text-align: justify;
      line-height: 1.8;
    }
    
    .markdown-body blockquote {
      margin: 16px 0;
      padding: 12px 16px;
      background: #1E293B;
      border-left: 4px solid #6366F1;
      color: #94A3B8;
      font-style: italic;
      border-radius: 0 4px 4px 0;
    }
    
    .markdown-body blockquote p { margin: 0; }
    
    .markdown-body pre {
      background: #0F172A;
      padding: 16px;
      border-radius: 6px;
      overflow-x: auto;
      font-family: "Consolas", "Monaco", "Courier New", "JetBrains Mono", monospace;
      font-size: 14px;
      line-height: 1.5;
      margin: 16px 0;
      border: 1px solid #334155;
    }
    
    .markdown-body code {
      background: #1E293B;
      padding: 2px 6px;
      border-radius: 3px;
      font-family: "Consolas", "Monaco", "Courier New", "JetBrains Mono", monospace;
      font-size: 14px;
      color: #F472B6;
    }
    
    .markdown-body pre code {
      background: transparent;
      padding: 0;
      color: #E2E8F0;
    }
    
    .markdown-body ul, .markdown-body ol {
      margin: 16px 0;
      padding-left: 24px;
    }
    
    .markdown-body ul { list-style-type: disc; }
    .markdown-body ol { list-style-type: decimal; }
    
    .markdown-body li {
      margin: 8px 0;
      line-height: 1.6;
    }
    
    .markdown-body img {
      max-width: 100%;
      height: auto;
      display: block;
      margin: 16px auto;
      border-radius: 6px;
    }
    
    .markdown-body table {
      width: 100%;
      border-collapse: collapse;
      margin: 16px 0;
      font-size: 14px;
    }
    
    .markdown-body th {
      background: #1E293B;
      border: 1px solid #475569;
      padding: 12px;
      text-align: left;
      font-weight: bold;
    }
    
    .markdown-body td {
      border: 1px solid #475569;
      padding: 12px;
      text-align: left;
    }
    
    .markdown-body tr:nth-child(even) { background: rgba(30, 41, 59, 0.5); }
    
    .markdown-body a { color: #818CF8; text-decoration: none; }
    .markdown-body a:hover { text-decoration: underline; }
    
    .markdown-body hr {
      border: none;
      border-top: 1px solid #334155;
      margin: 24px 0;
    }
    
    .markdown-body strong { font-weight: bold; color: #F1F5F9; }
    .markdown-body em { font-style: italic; }
    .markdown-body del { text-decoration: line-through; color: #64748B; }
    
    ::-webkit-scrollbar { width: 8px; height: 8px; }
    ::-webkit-scrollbar-track { background: #1E293B; }
    ::-webkit-scrollbar-thumb { background: #475569; border-radius: 4px; }
    ::-webkit-scrollbar-thumb:hover { background: #6366F1; }
    
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    .animate-fade-in {
      animation: fadeIn 0.6s ease-out forwards;
    }
    
    .mobile-menu {
      transform: translateX(100%);
      transition: transform 0.3s ease;
    }
    
    .mobile-menu.open {
      transform: translateX(0);
    }
  </style>
</head>
<body class="bg-light-bg text-light-text dark:bg-dark-bg dark:text-dark-text font-sans antialiased transition-colors duration-300">
  <!-- 导航栏 -->
  <nav class="fixed top-0 left-0 right-0 z-50 bg-light-bg/80 dark:bg-dark-bg/80 backdrop-blur-md border-b border-light-border dark:border-dark-border transition-colors duration-300">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex items-center justify-between h-16">
        <a href="/" class="flex items-center space-x-2 text-primary-500 hover:text-primary-400 transition-colors">
          <i data-lucide="zap" class="w-6 h-6"></i>
          <span class="font-bold text-lg">煎饼</span>
        </a>
        
        <div class="hidden md:flex items-center space-x-8">
          <a href="/" class="nav-link <%= typeof path !== 'undefined' && path === '/' ? 'text-primary-500' : 'text-light-text-secondary dark:text-dark-text-secondary hover:text-light-text dark:hover:text-dark-text' %> transition-colors">首页</a>
          <a href="/articles" class="nav-link <%= typeof path !== 'undefined' && path === '/articles' ? 'text-primary-500' : 'text-light-text-secondary dark:text-dark-text-secondary hover:text-light-text dark:hover:text-dark-text' %> transition-colors">文章</a>
          <a href="/products" class="nav-link <%= typeof path !== 'undefined' && path === '/products' ? 'text-primary-500' : 'text-light-text-secondary dark:text-dark-text-secondary hover:text-light-text dark:hover:text-dark-text' %> transition-colors">产品</a>
          <a href="/about" class="nav-link <%= typeof path !== 'undefined' && path === '/about' ? 'text-primary-500' : 'text-light-text-secondary dark:text-dark-text-secondary hover:text-light-text dark:hover:text-dark-text' %> transition-colors">关于</a>
        </div>
        
        <div class="flex items-center space-x-4">
          <button id="theme-toggle" class="p-2 rounded-lg hover:bg-light-surface dark:hover:bg-dark-surface transition-colors" aria-label="切换主题">
            <i data-lucide="sun" class="w-5 h-5 theme-icon-sun"></i>
            <i data-lucide="moon" class="w-5 h-5 theme-icon-moon hidden"></i>
          </button>
          <button id="mobile-menu-btn" class="md:hidden p-2 rounded-lg hover:bg-light-surface dark:hover:bg-dark-surface transition-colors" aria-label="菜单">
            <i data-lucide="menu" class="w-5 h-5"></i>
          </button>
        </div>
      </div>
    </div>
  </nav>
  
  <!-- 移动端菜单 -->
  <div id="mobile-menu" class="mobile-menu fixed inset-y-0 right-0 z-50 w-64 bg-light-surface dark:bg-dark-surface shadow-xl md:hidden transition-colors duration-300">
    <div class="p-6">
      <button id="close-menu" class="absolute top-4 right-4 p-2 hover:bg-light-elevated dark:hover:bg-dark-elevated rounded-lg transition-colors">
        <i data-lucide="x" class="w-5 h-5"></i>
      </button>
      <div class="mt-8 space-y-4">
        <a href="/" class="block py-2 <%= typeof path !== 'undefined' && path === '/' ? 'text-primary-500' : 'text-light-text-secondary dark:text-dark-text-secondary' %>">首页</a>
        <a href="/articles" class="block py-2 <%= typeof path !== 'undefined' && path === '/articles' ? 'text-primary-500' : 'text-light-text-secondary dark:text-dark-text-secondary' %>">文章</a>
        <a href="/products" class="block py-2 <%= typeof path !== 'undefined' && path === '/products' ? 'text-primary-500' : 'text-light-text-secondary dark:text-dark-text-secondary' %>">产品</a>
        <a href="/about" class="block py-2 <%= typeof path !== 'undefined' && path === '/about' ? 'text-primary-500' : 'text-dark-text-secondary' %>">关于</a>
      </div>
    </div>
  </div>
  
  <main class="pt-16 min-h-screen">
